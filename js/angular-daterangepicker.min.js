(function(){var a;a=angular.module("daterangepicker",[]),a.constant("dateRangePickerConfig",{clearLabel:"Clear"}),a.directive("dateRangePicker",["$compile","$timeout","$parse","dateRangePickerConfig","$filter",function(a,b,c,d,e){return{require:"ngModel",restrict:"A",scope:{min:"=",max:"=",opts:"=options",clearable:"=",hidePredefinedRanges:"=",time:"=",icon:"@",single:"="},link:function(a,b,c,f){function g(){var a={startDate:n.startDate&&n.startDate.unix?1e3*n.startDate.unix():null,endDate:n.endDate&&n.endDate.unix?1e3*n.endDate.unix():null,dateRangeTypeId:n.chosenDateRangeTypeId};f.$setViewValue(a),r(a)}var h,i,j,k,l,m,n,o,p,q,r,s,t,u;return m=function(){var a,b;return b=angular.extend.apply(angular,Array.prototype.slice.call(arguments).map(function(a){return null!=a?a.locale:void 0}).filter(function(a){return!!a})),a=angular.extend.apply(angular,arguments),a.locale=b,a},a.icon=a.icon||"icon-datepicker",wrapEl=b.wrap('<div class="alxDirectiveSuiDatepicker"></div>'),b.after('<i class="icon '+a.icon+'"></i>'),b.prop("readonly","readonly"),d.locale={separator:" - ",format:"YYYY-MM-DD, hh:mm A",formatDate:"YYYY-MM-DD",invalidLabel:e("translate")("common.infinite")||"Infinite",applyLabel:e("translate")("common.ok")||"OK",cancelLabel:e("translate")("common.cancel"),customRangeLabel:e("translate")("common.date_range")||"Custom Range",daysOfWeek:moment.weekdaysMin(),monthNames:moment.monthsShort(),firstDay:0,startDate:e("translate")("common.start_date"),endDate:e("translate")("common.end_date")||"End date",pickTime:e("translate")("common.pick_time")||"Pick time:",nowLabel:e("translate")("common.now")||"Now",date:e("translate")("common.date")||"Date"},h=a.opts,i=m({},d,h),i.singleDateAndTime=!!a.single,a.time&&(i.timePicker=!0),a.hidePredefinedRanges||a.single||(i.ranges={today:{0:moment().startOf("day"),1:moment().endOf("day"),displayName:e("translate")("common.today"),hideTimePicker:!0},yesterday:{0:moment().subtract(1,"days").startOf("day"),1:moment().subtract(1,"days").endOf("day"),displayName:e("translate")("common.yesterday"),hideTimePicker:!0},last7days:{0:moment().subtract(6,"days").startOf("day"),1:moment().endOf("day"),displayName:e("translate")("backend.lookup.daterangetype_3"),hideTimePicker:!0},next7days:{0:moment().startOf("day"),1:moment().add(6,"days").endOf("day"),displayName:e("translate")("common.datefilter.next7days"),hideTimePicker:!0},after_date:{0:moment().startOf("day"),1:null,displayName:e("translate")("common.datefilter.after_date")},before_date:{0:null,1:moment().endOf("day"),displayName:e("translate")("common.datefilter.before_date")},specific_date:{0:moment().startOf("day"),1:moment().endOf("day"),displayName:e("translate")("backend.lookup.daterangetype_103")}}),n=null,j=function(){return n.setStartDate(),n.setEndDate()},o=function(a){return function(b){if(n&&b)return a(moment(b))}},q=o(function(a){return n.endDate<a&&n.setEndDate(a),n.setStartDate(a)}),p=o(function(a){return n.startDate>a&&n.setStartDate(a),n.setEndDate(a)}),_formatterHelper=function(a,b){return b||(b=i.locale.format),moment.isMoment(a)?a.format(b):(formattedDate=moment(a),formattedDate.isValid()?formattedDate.format(b):i.locale.invalidLabel)},_formatInput=function(a){return a?i.singleDateAndTime&&i.timePicker&&a.startDate?_formatterHelper(a.startDate):i.singleDateAndTime&&a.startDate||i.singleDatePicker||moment.isMoment(a.startDate)&&moment.isMoment(a.endDate)&&a.startDate.isSame(a.endDate,"day")&&!n.timePicker?_formatterHelper(a.startDate,i.locale.formatDate):a.startDate||a.endDate?[_formatterHelper(a.startDate),_formatterHelper(a.endDate)].join(i.locale.separator):"":""},r=function(a){var c;c=_formatInput(a),b.val(c)},s=function(a){return function(b,c){return!b||!c||a(moment(b),moment(c))}},u=s(function(a,b){return a.isBefore(b)||a.isSame(b,"day")}),t=s(function(a,b){return a.isAfter(b)||a.isSame(b,"day")}),f.$render=function(){f.$viewValue?(q(f.$viewValue.startDate),p(f.$viewValue.endDate)):j(),r(f.$viewValue)},f.$isEmpty=function(a){return!(angular.isString(a)&&a.length>0)},k=function(){var c,d;b.daterangepicker(angular.extend(i,{autoUpdateInput:!1}),function(a,b){return r({startDate:a,endDate:b})}),n=b.data("daterangepicker"),$(n.element).on("hide.daterangepicker",g),d=[];for(c in i.eventHandlers)d.push(b.on(c,function(b){var c;return c=b.type+"."+b.namespace,a.$evalAsync(i.eventHandlers[c])}));return d},l=function(b,d,e,g){if(c[b])return f.$validators[b]=function(a){return a&&d(i[g],a[e])},a.$watch(b,function(a){return i[g]=!!a&&moment(a),k()})},k(),l("min",u,"startDate","minDate"),l("max",t,"endDate","maxDate"),c.options&&a.$watch("opts",function(a){return i=m(i,a),k()},!0),c.clearable&&a.$watch("clearable",function(a){return a&&(i=m(i,{locale:{cancelLabel:i.clearLabel}})),k(),b.on("cancel.daterangepicker",a?r.bind(this,{startDate:null,endDate:null}):null)}),a.$applyAsync(g),a.$on("$destroy",function(){return null!=n?n.remove():void 0})}}}])}).call(this);
//# sourceMappingURL=angular-daterangepicker.min.js.map